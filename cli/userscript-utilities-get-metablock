#!/usr/bin/env node

var cmd = require('commander'),
    getBlock = require('..').getMetablock;

cmd.description("Get the file's metablock")
    .option("-o, --outfile [path]", "Outout file (defaults to STDOUT)")
    .option("-p, --prepend", "If specified, the metablock will be prepended to the file as opposed to overriding it")
    .action(function (sourceFile) {
        getGlock(sourceFile, function (err, contents) {
            console.log(err);
            if (err) {
                throw err;
            } else {
                console.log(contents);
            }
        });
    })
    .parse(process.argv);